# Analytics-engineering test

### Requirements
- You will need sqlite and Python available to you
- You can expect to spend around 2-3 hours on this task.
    - Don't worry if you cannot finish the exercise in this time, you may submit a description of the next steps you would have taken.

### Client
The client is the owner of a high-end chain of bars. Recently they've experienced complaints about the time it's taken staff to deliver their drinks after they've been ordered.

An initial analysis by the team has shown that this issue is primarily driven by the lack of available glasses for the drinks being ordered. The owners want to take a data driven approach to business decisions in future but they currently have no historical data. They have asked staff to start recording data and we have been provided with an inventory across all three bars as well as the last week of transaction data.
They use the online cocktails database (`https://www.thecocktaildb.com/api.php`) for their menu and all bars serve a subset of these drinks according to the instructions in the database.

The bars are 24hour and for simplicity you can assume they are equally busy around the clock.

### Task
You will need to create a database for the bar owners so that they can begin their data jouney, structuring the tables in a sensible way so that queries can easily be written and potential new data sources could be added. You will need to populate this database with the data they have provided in a way which minimises the overhead as new data is generated by the bars. You will also need to provide a proof of concept table to enable the staff in each bar to make decisions on glass purchases.

Finally please structure the project so that any analysts hired by the bar could easily take over the work from you.

### Outputs
- A SQL file with the CREATE TABLE statements for setting up your database.
- A SQL file with the queries to create a PoC table for the bar staff to manage glass stock.
- A *single* python script which:
    - Reads in the datafiles
    - Imports the relevant data from the cocktails database API
    - Generates the data for the database
    - Creates the database and tables using the data_tables SQL script
    - Imports the data to the database
    - Runs the poc_tables SQL script
- A .sqlite database
- A repository which is in good condition for analysts to take over your work.

### Next Steps:
* Clean the data further so that the data sitting in the existing tables is cleaner. examples of this are: `GlassID` in the glass table instead of `Glass`, and Language in the instuctions table.
* Create an `AvailableStock` table, similar to the `Stock` table but with clean glasses only. `Stock` table holds the maximum number of glasses available per bar, it was inteded for update when the total number of glasses change.
* Create a function that updates the available stock table as transactions are ordered, If there are no glasses available, reject the transaction and insert the rejected transactions in a `FailedTransaction` table. views can be built off that table to infer which glasses should be bought and in what quantities.

final note: this is such an interesting project and a very large number of factors could be considered, like the average amount of time each glass is kept by each customer and the cleaning/restocking speed after that. anyways will stop here now. 
